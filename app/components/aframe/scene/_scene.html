<ng-transclude ng-transclude-slot="editor"></ng-transclude>
<a-scene id="aframe-scene" ng-transclude-slot="sky"> <!-- stats -->
	<a-assets>

		<!-- GENERIC ASSETS -->
<!-- 		<aframe-entity
			asset="true"
			ng-repeat="asset in $ctrl.assets track by ('asset_' + asset._id)"
			ng-if="asset"
			type="{{asset.type}}"
			attrs="asset.attrs"
			entities="asset.entities">
		</aframe-entity> -->
		<a-mixin id="mixin-blue" material="color: #0077CA;opacity: 0.85; transparent: true;">
		</a-mixin>
		<a-mixin id="mixin-glow" material="color:white;shader:flat;opacity:0.1;transparent: true;"></a-mixin>

	</a-assets>
		<aframe-sky sky="$ctrl.sky" preload="$ctrl.sceneLinks"></aframe-sky>
		<!-- CAMERA ENTITY -->
		<a-entity position="0 1.8 0" id="aframe-camera">
			<a-entity
				camera
				mouse-cursor
				reverse-look-controls
				wasd-controls-enabled="false"
				look-controls-enabled="false">
				<!-- VR CURSOR -->
				<a-entity
					ng-if="$ctrl.mobile.device"
					cursor="fuse: true; fuseTimeout: 500"
          position="0 0 -1"
          geometry="primitive: ring;"
          scale="0.01 0.01 0.01"
          material="color: white; shader: flat"
					raycaster="interval: 1000; recursive: true;">
				</a-entity>
			</a-entity>
		</a-entity>
		
		<!-- GENERIC ENTITIES -->
<!-- 		<aframe-entity
			ng-repeat="entity in entities track by ('entity_' + entity._id)"
			ng-if="entity"
			type="{{entity.type}}"
			attrs="entity.attrs"
			entities="entity.entities">
		</aframe-entity> -->
		
		<!-- SCENE LINKS -->
		<a-entity
			ng-repeat="sceneLink in $ctrl.sceneLinks track by sceneLink._id"
			class="scene-link"
			scene-link="sceneLink">
		</a-entity>
		<!-- HOTSPOTS -->
		<a-entity
			ng-repeat="hotSpot in $ctrl.hotSpots track by hotSpot._id"
			class="hot-spot"
			hot-spot="hotSpot">
		</a-entity>


</a-scene>