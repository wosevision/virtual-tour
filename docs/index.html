<!doctype html>
<html>
<head>
  <meta charset='utf-8' />
  <title>  | Documentation</title>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' type='text/css' rel='stylesheet' />
  <link href='assets/style.css' type='text/css' rel='stylesheet' />
  <link href='assets/github.css' type='text/css' rel='stylesheet' />
</head>
<body class='documentation'>
  <div class='max-width-4 mx-auto'>
    <div class='clearfix md-mxn2'>
      <div class='fixed xs-hide fix-3 overflow-auto max-height-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'></h3>
          <div class='mb1'><code></code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block input'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
                
                <li><a
                  href='#sceneeditor'
                  class="">
                  sceneEditor
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#aframescene'
                  class="">
                  aframeScene
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#scenectrl'
                  class=" toggle-sibling">
                  SceneCtrl
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#SceneCtrl#constructor'
                        class='regular pre-open'>
                        #constructor
                      </a></li>
                      
                      <li><a
                        href='#SceneCtrl#$onInit'
                        class='regular pre-open'>
                        #$onInit
                      </a></li>
                      
                      <li><a
                        href='#SceneCtrl#setScene'
                        class='regular pre-open'>
                        #setScene
                      </a></li>
                      
                      <li><a
                        href='#SceneCtrl#$doCheck'
                        class='regular pre-open'>
                        #$doCheck
                      </a></li>
                      
                      <li><a
                        href='#SceneCtrl#$onDestroy'
                        class='regular pre-open'>
                        #$onDestroy
                      </a></li>
                      
                    </ul>
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#getprops'
                  class="">
                  getProps
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#aframescene'
                  class=" toggle-sibling">
                  $aframeScene
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#$aframeScene#constructor'
                        class='regular pre-open'>
                        #constructor
                      </a></li>
                      
                      <li><a
                        href='#$aframeScene#scene'
                        class='regular pre-open'>
                        #scene
                      </a></li>
                      
                      <li><a
                        href='#$aframeScene#sky'
                        class='regular pre-open'>
                        #sky
                      </a></li>
                      
                    </ul>
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#skyctrl'
                  class=" toggle-sibling">
                  SkyCtrl
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#SkyCtrl#constructor'
                        class='regular pre-open'>
                        #constructor
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#$onInit'
                        class='regular pre-open'>
                        #$onInit
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#$sceneEl'
                        class='regular pre-open'>
                        #$sceneEl
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#$onChanges'
                        class='regular pre-open'>
                        #$onChanges
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#assetIdFromSkyUrl'
                        class='regular pre-open'>
                        #assetIdFromSkyUrl
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#preload'
                        class='regular pre-open'>
                        #preload
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#setSkyId'
                        class='regular pre-open'>
                        #setSkyId
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#setSky'
                        class='regular pre-open'>
                        #setSky
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#loadSkyAsset'
                        class='regular pre-open'>
                        #loadSkyAsset
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#loadSkyEl'
                        class='regular pre-open'>
                        #loadSkyEl
                      </a></li>
                      
                    </ul>
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#aframesky'
                  class=" toggle-sibling">
                  $aframeSky
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#$aframeSky#sky'
                        class='regular pre-open'>
                        #sky
                      </a></li>
                      
                      <li><a
                        href='#$aframeSky#getSettings'
                        class='regular pre-open'>
                        #getSettings
                      </a></li>
                      
                      <li><a
                        href='#$aframeSky#getPreloadList'
                        class='regular pre-open'>
                        #getPreloadList
                      </a></li>
                      
                      <li><a
                        href='#$aframeSky#getSkyDomNode'
                        class='regular pre-open'>
                        #getSkyDomNode
                      </a></li>
                      
                    </ul>
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#apprun'
                  class="">
                  AppRun
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#settingsctrl'
                  class=" toggle-sibling">
                  SettingsCtrl
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#SettingsCtrl#expandAll'
                        class='regular pre-open'>
                        #expandAll
                      </a></li>
                      
                      <li><a
                        href='#SettingsCtrl#collapseAll'
                        class='regular pre-open'>
                        #collapseAll
                      </a></li>
                      
                      <li><a
                        href='#SettingsCtrl#promptLogin'
                        class='regular pre-open'>
                        #promptLogin
                      </a></li>
                      
                      <li><a
                        href='#SettingsCtrl#logout'
                        class='regular pre-open'>
                        #logout
                      </a></li>
                      
                      <li><a
                        href='#SettingsCtrl#updateSettings'
                        class='regular pre-open'>
                        #updateSettings
                      </a></li>
                      
                      <li><a
                        href='#SettingsCtrl#updateUsage'
                        class='regular pre-open'>
                        #updateUsage
                      </a></li>
                      
                      <li><a
                        href='#SettingsCtrl#detectConnection'
                        class='regular pre-open'>
                        #detectConnection
                      </a></li>
                      
                    </ul>
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#connection'
                  class="">
                  connection
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#accordionready'
                  class="">
                  accordionReady
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#on'
                  class="">
                  $on
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#calculateusagelevel'
                  class="">
                  calculateUsageLevel
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getlabelsfromtally'
                  class="">
                  getLabelsFromTally
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#user_defaults'
                  class="">
                  USER_DEFAULTS
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#create'
                  class="">
                  create
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#user'
                  class="">
                  user
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#settings'
                  class="">
                  settings
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#settings'
                  class="">
                  settings
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_usage'
                  class="">
                  _usage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#log'
                  class="">
                  log
                  
                </a>
                
                </li>
              
            </ul>
          </div>
          <div class='mt1 h6 quiet'>
            <a href='http://documentation.js.org/reading-documentation.html'>Need help reading this?</a>
          </div>
        </div>
      </div>
      <div class='fix-margin-3'>
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='sceneeditor'>
      sceneEditor
    </h3>
    
    
  </div>
  

  <p>A-FRAME SCENE DIRECTIVE
Converts arrays of standardized objects to A-Frame
compatible DOM elements via the aframeEntity directive
and manages their lifecycles in the context of a scene</p>


  <div class='pre p1 fill-light mt0'>sceneEditor</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$compile</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</code>
	    DI: compiler service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$aframeScene</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</code>
	    DI: scene service

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        Scene definition object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='aframescene'>
      aframeScene
    </h3>
    
    
  </div>
  

  <p>The aframeScene component definition initializes
the scene's bindings for its child components as
well as a transclusion point for the server-rendered
scene editor.</p>


  <div class='pre p1 fill-light mt0'>aframeScene</div>
  
  

  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>bindings</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
          : Interpolated binding for the sky component, one-way bindings for sceneLinks, hotSpots and mobile

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>transclude</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
          : Slot for scene editor if allowed by server

          
        </div>
      
    </div>
  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a></code>:
        Scene definition object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='scenectrl'>
      SceneCtrl
    </h3>
    
    
  </div>
  

  <p>The scene controller manages all top-level functionality
of the scene component; it is responsible for initializing
the DOM elements of the scene and updating them when the
$aframeScene service changes.</p>


  <div class='pre p1 fill-light mt0'>new SceneCtrl()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='SceneCtrl#constructor'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>constructor($scope, $element, $aframeScene, $aframeSky)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Initializes the SceneCtrl's dependencies</p>


  <div class='pre p1 fill-light mt0'>constructor($scope: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $element: jqlite, $aframeScene: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $aframeSky: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$scope</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The current scope

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$element</span> <code class='quiet'>(jqlite)</code>
	    The component's &#x3C;aframe-scene> element

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$aframeScene</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The scene service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$aframeSky</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The sky service

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SceneCtrl#$onInit'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>$onInit()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Lifecycle hook to initialize component properties; sets
a boolean to hold the rightclick-active flag (for when a
user mouseups the scene with right button) and a string
for the current active scene's ID.</p>
<p>Also stores JQLite-wrapped &#x3C;a-scene> and &#x3C;a-assets> for
appending child elements into the scene from inner components.</p>


  <div class='pre p1 fill-light mt0'>$onInit()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SceneCtrl#setScene'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>setScene(scene)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Extracts an incoming scene object's relevant data (<code>id</code>, <code>sceneLinks</code>,
and <code>hotSpots</code>) and assigns them to the controller for rendering
on the component.</p>
<p>If the server-side editor component is attached (i.e. admin user is
logged in), it will have mounted a <code>checkForDraft()</code> method on the
controller, which is called here to announce if a newly-navigated-to
scene has saved drafts.</p>


  <div class='pre p1 fill-light mt0'>setScene(scene: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>scene</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    A scene object from API/database

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SceneCtrl#$doCheck'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>$doCheck()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Lifecycle hook to run a check on every digest loop cycle.</p>
<p>Checks $aframeScene's current scene object; proceeds if
scene is defined and calls <code>setScene()</code> on the incoming data.</p>
<p>Checks if there is a sky active on $aframeSky, and if so, if
it is different from the current active sky. Sets the conroller's
sky if they differ or if the controller has no sky.</p>


  <div class='pre p1 fill-light mt0'>$doCheck()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SceneCtrl#$onDestroy'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>$onDestroy()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Lifecycle cleanup method; unattaches event listener
for context menu (right click) events from the scene.</p>


  <div class='pre p1 fill-light mt0'>$onDestroy()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getprops'>
      getProps
    </h3>
    
    
  </div>
  

  

  <div class='pre p1 fill-light mt0'>getProps(obj: any)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>obj</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='aframescene'>
      $aframeScene
    </h3>
    
    
  </div>
  

  <p>Scene service class</p>


  <div class='pre p1 fill-light mt0'>new $aframeScene()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='$aframeScene#constructor'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>constructor($timeout, $mdToast, $tourApi, DraftResource, EDITOR_MESSAGES, $aframeSky)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Initialize dependencies; convert EDITOR_MESSAGES constant
into $mdToast configs for use in instance methods</p>


  <div class='pre p1 fill-light mt0'>constructor($timeout: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $mdToast: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $tourApi: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, DraftResource: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, EDITOR_MESSAGES: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $aframeSky: any)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$timeout</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$mdToast</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$tourApi</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Tour $resource factory service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>DraftResource</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Draft $resource factory

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>EDITOR_MESSAGES</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Constant to define toast configs

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$aframeSky</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='$aframeScene#scene'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>scene</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Getter/setter for internal scene data</p>


  <div class='pre p1 fill-light mt0'>scene</div>
  
  

  
  
  
  
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>{
  <span class="hljs-attr">_id</span>: <span class="hljs-string">'583f17cfd2cd0c0400072d9c'</span>,
  <span class="hljs-attr">parent</span>: <span class="hljs-string">'57a8e38b12ad99fe889c95f3'</span>,
  <span class="hljs-attr">code</span>: <span class="hljs-string">'2b'</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Atrium 2B'</span>,
  <span class="hljs-attr">hotSpots</span>: [ ... ],
  <span class="hljs-attr">sceneLinks</span>: [ ... ],
  <span class="hljs-attr">panorama</span>: { ... }
}</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='$aframeScene#sky'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>sky</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Getter/setter for formatting sky URL from sceneData</p>


  <div class='pre p1 fill-light mt0'>sky</div>
  
  

  
  
  
  
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-string">'http://res.cloudinary.com/uoit-virtual-tour/image/upload/v1480529929/scenes/panorama/k23dnerigdctblxgq5vm.jpg'</span></pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='skyctrl'>
      SkyCtrl
    </h3>
    
    
  </div>
  

  <p>The <code>SkyCtrl</code> class is largely responsible for
orchestrating the translation of URLs into IDs
and then into DOM elements for attaching to the scene.</p>
<p>It attaches a single <code>&#x3C;a-sky/></code> the first time a sky is
loaded, and attaches <code>&#x3C;img/></code>s to the scenes assets
preload bucket based on the <code>$aframeSky</code> service's instructions.</p>


  <div class='pre p1 fill-light mt0'>new SkyCtrl()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='SkyCtrl#constructor'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>constructor($scope, $compile, $aframeSky)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Initializes the controller's dependencies:</p>
<ul>
<li>Binds a special one-off $compile function for when
the scene's <code>&#x3C;a-sky /></code> needs to be compiled</li>
<li>Attaches the $aframeSky service directly</li>
</ul>


  <div class='pre p1 fill-light mt0'>constructor($scope: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $compile: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $aframeSky: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$scope</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The SkyCtrl's scope

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$compile</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Angular's compile service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$aframeSky</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The sky component's biz logic

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#$onInit'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>$onInit()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Store JQLite-wrapped <code>&#x3C;a-scene></code> and <code>&#x3C;a-assets></code>;
init internal check for right click event.</p>


  <div class='pre p1 fill-light mt0'>$onInit(): void</div>
  
  

  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        No return

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#$sceneEl'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>$sceneEl</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Cache vars to store JQLite <img> and &#x3C;a-sky>
Flag for init sky load and array of loaded skies</p>


  <div class='pre p1 fill-light mt0'>$sceneEl</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#$onChanges'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>$onChanges(newData)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Lifecycle hook that is invoked every time <code>SkyCtrl.sky</code>
changes value. The first change is discarded since it will
always return <code>null</code> or <code>undefined</code>.</p>


  <div class='pre p1 fill-light mt0'>$onChanges(newData: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>newData</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Incoming change object

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#assetIdFromSkyUrl'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>assetIdFromSkyUrl(skyUrl)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Utility function for stripping the <code>public_id</code>
property out of a URL segment in the form of
<code>[version]/[path/to/image]/[public_id]</code>.</p>


  <div class='pre p1 fill-light mt0'>assetIdFromSkyUrl(skyUrl: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>skyUrl</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Panorama URL segment

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        Panorama's public_id

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#preload'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>preload()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Uses the $aframeSky service to fetch a server-generated
list of <code>skyUrl</code>s for asset preloading. It grabs the <code>_id</code>
of the current active scene from <code>SceneCtrl</code> and sends it
through <code>$aframeSky.getPreloadList()</code> to generate the list
based on scenelinks in the current active scene.</p>
<p><code>assetIdFromSkyUrl()</code> turns each <code>skyUrl</code> into an <code>assetId</code>,
which is checked against the list of preloaded assets.
If the asset hasn't been loaded and stored already, 'loadSkyAsset()'
queues it up for loading into the scene's <code>&#x3C;a-assets>&#x3C;/a-assets></code>.</p>


  <div class='pre p1 fill-light mt0'>preload(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        Promise that holds an array of skyUrls from server

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#setSkyId'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>setSkyId(assetId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Sets the current active sky to an <code>assetId</code>. This updates the
binding in the scene's <code>&#x3C;a-sky ng-src="{{ $ctrl.loadedSky }}" /></code>
to the provided <code>assetId</code>, which should match the <code>id=""</code> of a
asset that has already been fully loaded since this represents
the largest and final change a user perceives when switching scenes.</p>
<p>If this function is being called, it is safe to assume all
requisite loading steps for scene transition have completed, so
it is safe to <code>preload()</code> the next wave of assets.</p>


  <div class='pre p1 fill-light mt0'>setSkyId(assetId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>assetId</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    public_id of panorama that is done loading

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#setSky'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>setSky(skyUrl, assetId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Acts as a buffer function to <code>setSkyId()</code> by checking if the
incoming assetId is already in the list of loaded skies –
if the list includes the ID, <code>setSkyId()</code> is called on the ID
directly. If the ID is missing from the list, <code>loadSkyAsset()</code>
is initiated.</p>
<p><code>setSkyId()</code> is called after the promise is resolved inside its
<code>then()</code> method, where a check is also performed whether the
scene needs an <code>&#x3C;a-sky /></code> element.</p>


  <div class='pre p1 fill-light mt0'>setSky(skyUrl: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, assetId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>skyUrl</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Panorama URL segment

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>assetId</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Panorama's public_id

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#loadSkyAsset'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>loadSkyAsset(skyUrl, assetId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Compiles a new image asset with requested URL and ID;
adds element to assets and ID to list to prevent reload.</p>


  <div class='pre p1 fill-light mt0'>loadSkyAsset(skyUrl: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, assetId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>skyUrl</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Panorama URL segment

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>assetId</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Panorama's public_id

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        The original assetId

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#loadSkyEl'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>loadSkyEl(sky)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Runs the <code>compileSkyEl()</code> method from the constructor
to build the sky element; attaches it to the scene
and marks the element as loaded.</p>


  <div class='pre p1 fill-light mt0'>loadSkyEl(sky: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element">Element</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>sky</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    ID for asset reference

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element">Element</a></code>:
        JQLite-wrapped &#x3C;a-sky> element

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='aframesky'>
      $aframeSky
    </h3>
    
    
  </div>
  

  <p>The $aframeSky class is a service responsible for
the business logic of the aframeSky component.</p>
<p>The SceneCtrl controller uses the <code>$aframeSky.sky</code>
getter/setter to detect changes to the active scene's
sky; the SkyCtrl controller uses the <code>getSkyDomNode()</code>
method to produce a fully loaded <code>&#x3C;img></code> for appending
the SceneCtrl.$assetsEl (<code>&#x3C;a-assets></code>).</p>


  <div class='pre p1 fill-light mt0'>new $aframeSky()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='$aframeSky#sky'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>sky</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Getter/setter for formatting sky URL from sceneData.</p>


  <div class='pre p1 fill-light mt0'>sky</div>
  
  

  
  
  
  
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-string">'http://res.cloudinary.com/uoit-virtual-tour/image/upload/v1480529929/scenes/panorama/k23dnerigdctblxgq5vm.jpg'</span></pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='$aframeSky#getSettings'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getSettings()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Utility function for reading and parsing user settings
based on aframe's isMobile() method and the UserSession
service's usage settings; parses into an object that
eventually becomes a Cloudinary URL component string.</p>
<p>If the device is mobile, limit image resolution to 2048x1024
due to rendering limit.</p>


  <div class='pre p1 fill-light mt0'>getSettings(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        Formatted Cloudinary setting string (
<code>c_scale,f_auto,etc</code>
)

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='$aframeSky#getPreloadList'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getPreloadList(id)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Fetches an efficiently-generated list of <code>skyUrl</code>s
from the server, which uses a scene <code>_id</code> to read
potential candidates for preloading from the scene's
scenelinks.</p>
<p>If the <code>UserSession</code> service's preloading settings are
set to 1 or 2, it returns the full list for further
manipulation; otherwise, it returns an empty array
(0/no preload).</p>


  <div class='pre p1 fill-light mt0'>getPreloadList(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The _id of a scene to preload links for

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        A promise that will fulfill the preload list

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='$aframeSky#getSkyDomNode'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getSkyDomNode(url, id)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Converts a skyUrl and an assetId into a fully
compiled DOM element; returns a promise representing
a sky asset that will eventually be fully loaded.</p>
<p>Uses <code>getSettings()</code> to parse userSession settings
into a Cloudinary setting string.</p>


  <div class='pre p1 fill-light mt0'>getSkyDomNode(url: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>url</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Partial URL, e.g. 
<code>this.sky</code>
 getter/setter

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    An asset ID, e.g. the panorama's 
<code>public_id</code>

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        A promise that will resolve to the loaded 
<code>&#x3C;img></code>

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='apprun'>
      AppRun
    </h3>
    
    
  </div>
  

  <p>Application run block; initializes $state event listeners, error handling and user auth</p>


  <div class='pre p1 fill-light mt0'>AppRun($rootScope: any, $state: any, $popupWindow: any, UserAuth: any, AUTH_EVENTS: any)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$rootScope</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$state</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$popupWindow</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>UserAuth</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>AUTH_EVENTS</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='settingsctrl'>
      SettingsCtrl
    </h3>
    
    
  </div>
  

  <p>The settings controller provides a high-level
interface to the app's user preferences and data
usage settings, login/logout functions, and a set
of automatic usage detection functions.</p>


  <div class='pre p1 fill-light mt0'>new SettingsCtrl($scope: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $q: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $animate: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $mdUtil: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $popupWindow: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, UserAuth: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, UserSession: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, ConnectionDetails: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, AUTH_EVENTS: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$scope</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$q</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$animate</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    For animating backdrop only

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$mdUtil</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Init backdrop utility

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$popupWindow</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Supplies login window

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>UserAuth</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Authentication check

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>UserSession</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Holds all settings

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>ConnectionDetails</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Detects network and device

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>AUTH_EVENTS</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Authorization event names

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='SettingsCtrl#expandAll'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>expandAll()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Expands all accordion sections.</p>


  <div class='pre p1 fill-light mt0'>expandAll()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SettingsCtrl#collapseAll'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>collapseAll()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Collapses all accordion sections.</p>


  <div class='pre p1 fill-light mt0'>collapseAll()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SettingsCtrl#promptLogin'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>promptLogin()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Prompts user for login.</p>


  <div class='pre p1 fill-light mt0'>promptLogin(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        Status of popupWindow

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SettingsCtrl#logout'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>logout()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Logs user out directly.</p>


  <div class='pre p1 fill-light mt0'>logout()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SettingsCtrl#updateSettings'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>updateSettings()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Updates the user's setting preferences.</p>


  <div class='pre p1 fill-light mt0'>updateSettings()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SettingsCtrl#updateUsage'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>updateUsage(usage)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Updates the user's usage preferences; uses the
ConnectionDetails service to convert usage into
a user-friendly description of what it's doing.</p>
<ul>
<li>Updates UserSession with current OR incoming usage</li>
<li>Uses <code>calculateUsageLevel()</code> to tally usage stats</li>
<li>Retrieves array of labels from <code>getLabelsFromTally()</code></li>
</ul>


  <div class='pre p1 fill-light mt0'>updateUsage(usage: [<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>])</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>usage</span> <code class='quiet'>([<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>])</code>
	    Optional data override

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SettingsCtrl#detectConnection'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>detectConnection()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>User-activated function for auto-optimizing usage
level using the ConnectionDetails service.</p>
<ul>
<li>Sets loading animation during detection</li>
<li>Fetches connection information with <code>detect()</code></li>
<li>Stores returned connection information</li>
<li>Sets optimized usage settings with <code>optimize()</code></li>
</ul>


  <div class='pre p1 fill-light mt0'>detectConnection()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='connection'>
      connection
    </h3>
    
    
  </div>
  

  <p>This property will hold the user's network and
device information when it becomes available; it
remains false until availability.</p>


  <div class='pre p1 fill-light mt0'>connection</div>
  
  

  
  
  
  
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>{
  <span class="hljs-string">"network"</span>: {
    <span class="hljs-string">"speeds"</span>: { ... },
    ...
  },
  <span class="hljs-string">"useragent"</span>: {
    <span class="hljs-string">"device"</span>: { ... },
    ...
  }
}</pre>
    
  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='accordionready'>
      accordionReady
    </h3>
    
    
  </div>
  

  <p>The accordion initializer watches for a valid
instance and opens the accordion once it becomes
available. Performed once then deregistered.</p>


  <div class='pre p1 fill-light mt0'>accordionReady</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>accordion</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Accordion instance

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='on'>
      $on
    </h3>
    
    
  </div>
  

  <p>Waits for a user to log in successfully; stores user
info and opens accordion sections when login is detected.</p>


  <div class='pre p1 fill-light mt0'>$on</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='calculateusagelevel'>
      calculateUsageLevel
    </h3>
    
    
  </div>
  

  <p>Tallies up values of usage settings asynchronously
by using <code>$scope.$eval()</code> to match applicable usage
level values against their keys (which are keyed by
"condition").</p>


  <div class='pre p1 fill-light mt0'>calculateUsageLevel(usage: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>usage</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Incoming usage preference object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        Promise representing final levels

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>{
  <span class="hljs-string">'&lt;= 15'</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>],
  ...
}</pre>
    
  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getlabelsfromtally'>
      getLabelsFromTally
    </h3>
    
    
  </div>
  

  <p>Maps a tally array of numbers into a label
array of human-readable usage level strings.</p>


  <div class='pre p1 fill-light mt0'>getLabelsFromTally(tally: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">array</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>tally</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">array</a>)</code>
	    Array of tallied usage values

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        Usage description

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='user_defaults'>
      USER_DEFAULTS
    </h3>
    
    
  </div>
  

  <p>This constant holds the user preference default
values. It is used by the <code>UserSession</code> service
as a base layer for configurable preferences.</p>
<p>These values are assigned to every user
session and their <code>val</code> properties are overwritten
by custom preferences.</p>
<p>Only values described here will be considered by
the app as available to the end user for configuration.</p>


  <div class='pre p1 fill-light mt0'>USER_DEFAULTS</div>
  
  

  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>val</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a>)</code>
          : Default value of the setting

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>label</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>)</code>
          : Descriptive label for input

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>icon</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>)</code>
          : Icon ID for input

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>icons</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>)</code>
          : Array of exactly two icon IDs

          
        </div>
      
    </div>
  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='create'>
      create
    </h3>
    
    
  </div>
  

  <p>This function creates a new user session, which is
necessary to store application settings regardless of
whether there is a "real" user logged in. If there is
a user, the UserSession service will:</p>
<ul>
<li>set the <code>userId</code> property to indicate an active user</li>
<li>read user roles based on their boolean values on user</li>
<li>push role strings into a <code>roles</code> property on UserSession</li>
</ul>
<p>If not, the service checks for local settings and inits
a "blank" user with those settings (or the app defaults).</p>


  <div class='pre p1 fill-light mt0'>create(user: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>user</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    DB user object to use for session

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        Fully-formed user object after settings

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='user'>
      user
    </h3>
    
    
  </div>
  

  <p>Init a 'blank' user with the required settings properties to
avoid assignment errors (i.e. <code>this.user.settings[key] = ...</code>)</p>


  <div class='pre p1 fill-light mt0'>user</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='settings'>
      settings
    </h3>
    
    
  </div>
  

  <p>Use the UserSession's getter/setters to merge the found setting
values into USER_DEFAULTS via the user model.</p>


  <div class='pre p1 fill-light mt0'>settings</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='settings'>
      settings
    </h3>
    
    
  </div>
  

  <p>Getter/setter pairs for merging user setting objects from
the DB the form of:</p>
<p><code>{ toolbarOpen: false }</code></p>
<p>into fully-qualified app-level settings objects that look like:</p>
<pre><code>{
  toolbarOpen: {
    val: false,
    label: 'Toolbar open',
    ...
  }
}
</code></pre>
<p>or vice-versa for setting the user object based on app prefs.</p>


  <div class='pre p1 fill-light mt0'>settings</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>settings/usage</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    Incoming app settings
to merge into user

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        this.
[
_settings/_usage
]
 Merged app settings
built from user

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_usage'>
      _usage
    </h3>
    
    
  </div>
  

  <p>Looks inside SettingsFactory for user data matching the pattern
defined in USER_DEFAULTS; store in temporary vars.</p>


  <div class='pre p1 fill-light mt0'>_usage</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='log'>
      log
    </h3>
    
    
  </div>
  

  <p>Check the <code>userId</code> property to verify whether settings should
save to a logged in user; if not, set on localStorage</p>


  <div class='pre p1 fill-light mt0'>log</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

          
        
      </div>
    </div>
  </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
