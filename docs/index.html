<!doctype html>
<html>
<head>
  <meta charset='utf-8' />
  <title>  | Documentation</title>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' type='text/css' rel='stylesheet' />
  <link href='assets/style.css' type='text/css' rel='stylesheet' />
  <link href='assets/github.css' type='text/css' rel='stylesheet' />
</head>
<body class='documentation'>
  <div class='max-width-4 mx-auto'>
    <div class='clearfix md-mxn2'>
      <div class='fixed xs-hide fix-3 overflow-auto max-height-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'></h3>
          <div class='mb1'><code></code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block input'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
                
                <li><a
                  href='#sceneeditor'
                  class="">
                  sceneEditor
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#editorctrl'
                  class=" toggle-sibling">
                  EditorCtrl
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#EditorCtrlunpublishedChanges'
                        class='regular pre-open'>
                        .unpublishedChanges
                      </a></li>
                    
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#aframeeditor'
                  class=" toggle-sibling">
                  $aframeEditor
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#$aframeEditortoasts'
                        class='regular pre-open'>
                        .toasts
                      </a></li>
                    
                    </ul>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#$aframeEditor#publish'
                        class='regular pre-open'>
                        #publish
                      </a></li>
                      
                      <li><a
                        href='#$aframeEditor#saveDraft'
                        class='regular pre-open'>
                        #saveDraft
                      </a></li>
                      
                      <li><a
                        href='#$aframeEditor#checkForDraft'
                        class='regular pre-open'>
                        #checkForDraft
                      </a></li>
                      
                      <li><a
                        href='#$aframeEditor#loadDraft'
                        class='regular pre-open'>
                        #loadDraft
                      </a></li>
                      
                      <li><a
                        href='#$aframeEditor#revertToDraft'
                        class='regular pre-open'>
                        #revertToDraft
                      </a></li>
                      
                      <li><a
                        href='#$aframeEditor#discardDraft'
                        class='regular pre-open'>
                        #discardDraft
                      </a></li>
                      
                    </ul>
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#entityctrl'
                  class=" toggle-sibling">
                  EntityCtrl
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#EntityCtrlentityEl'
                        class='regular pre-open'>
                        .entityEl
                      </a></li>
                    
                    </ul>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#EntityCtrl#$onInit'
                        class='regular pre-open'>
                        #$onInit
                      </a></li>
                      
                      <li><a
                        href='#EntityCtrl#compileTemplate'
                        class='regular pre-open'>
                        #compileTemplate
                      </a></li>
                      
                      <li><a
                        href='#EntityCtrl#parseAttrs'
                        class='regular pre-open'>
                        #parseAttrs
                      </a></li>
                      
                    </ul>
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#aframescene'
                  class="">
                  aframeScene
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#scenectrl'
                  class=" toggle-sibling">
                  SceneCtrl
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#SceneCtrl#constructor'
                        class='regular pre-open'>
                        #constructor
                      </a></li>
                      
                      <li><a
                        href='#SceneCtrl#$onInit'
                        class='regular pre-open'>
                        #$onInit
                      </a></li>
                      
                      <li><a
                        href='#SceneCtrl#setScene'
                        class='regular pre-open'>
                        #setScene
                      </a></li>
                      
                      <li><a
                        href='#SceneCtrl#$doCheck'
                        class='regular pre-open'>
                        #$doCheck
                      </a></li>
                      
                      <li><a
                        href='#SceneCtrl#$onDestroy'
                        class='regular pre-open'>
                        #$onDestroy
                      </a></li>
                      
                    </ul>
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#aframescene'
                  class=" toggle-sibling">
                  $aframeScene
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#$aframeScene#scene'
                        class='regular pre-open'>
                        #scene
                      </a></li>
                      
                      <li><a
                        href='#$aframeScene#removeItemFrom'
                        class='regular pre-open'>
                        #removeItemFrom
                      </a></li>
                      
                      <li><a
                        href='#$aframeScene#addItemTo'
                        class='regular pre-open'>
                        #addItemTo
                      </a></li>
                      
                    </ul>
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#skyctrl'
                  class=" toggle-sibling">
                  SkyCtrl
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#SkyCtrl#constructor'
                        class='regular pre-open'>
                        #constructor
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#$onInit'
                        class='regular pre-open'>
                        #$onInit
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#$sceneEl'
                        class='regular pre-open'>
                        #$sceneEl
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#$onChanges'
                        class='regular pre-open'>
                        #$onChanges
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#assetIdFromSkyUrl'
                        class='regular pre-open'>
                        #assetIdFromSkyUrl
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#preload'
                        class='regular pre-open'>
                        #preload
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#setSkyId'
                        class='regular pre-open'>
                        #setSkyId
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#setSky'
                        class='regular pre-open'>
                        #setSky
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#loadSkyAsset'
                        class='regular pre-open'>
                        #loadSkyAsset
                      </a></li>
                      
                      <li><a
                        href='#SkyCtrl#loadSkyEl'
                        class='regular pre-open'>
                        #loadSkyEl
                      </a></li>
                      
                    </ul>
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#aframesky'
                  class=" toggle-sibling">
                  $aframeSky
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#$aframeSky#sky'
                        class='regular pre-open'>
                        #sky
                      </a></li>
                      
                      <li><a
                        href='#$aframeSky#getSettings'
                        class='regular pre-open'>
                        #getSettings
                      </a></li>
                      
                      <li><a
                        href='#$aframeSky#getPreloadList'
                        class='regular pre-open'>
                        #getPreloadList
                      </a></li>
                      
                      <li><a
                        href='#$aframeSky#getSkyDomNode'
                        class='regular pre-open'>
                        #getSkyDomNode
                      </a></li>
                      
                    </ul>
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#apprun'
                  class=" toggle-sibling">
                  AppRun
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#AppRun$rootScope.$on'
                        class='regular pre-open'>
                        .$rootScope.$on
                      </a></li>
                    
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#dialogctrl'
                  class=" toggle-sibling">
                  DialogCtrl
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#DialogCtrl#constructor'
                        class='regular pre-open'>
                        #constructor
                      </a></li>
                      
                      <li><a
                        href='#DialogCtrl#hide'
                        class='regular pre-open'>
                        #hide
                      </a></li>
                      
                      <li><a
                        href='#DialogCtrl#cancel'
                        class='regular pre-open'>
                        #cancel
                      </a></li>
                      
                      <li><a
                        href='#DialogCtrl#answer'
                        class='regular pre-open'>
                        #answer
                      </a></li>
                      
                      <li><a
                        href='#DialogCtrl#viewTip'
                        class='regular pre-open'>
                        #viewTip
                      </a></li>
                      
                      <li><a
                        href='#DialogCtrl#startTour'
                        class='regular pre-open'>
                        #startTour
                      </a></li>
                      
                      <li><a
                        href='#DialogCtrl#syncSettings'
                        class='regular pre-open'>
                        #syncSettings
                      </a></li>
                      
                    </ul>
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#settingsctrl'
                  class=" toggle-sibling">
                  SettingsCtrl
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#SettingsCtrlconnection'
                        class='regular pre-open'>
                        .connection
                      </a></li>
                    
                      <li><a
                        href='#SettingsCtrlaccordionReady'
                        class='regular pre-open'>
                        .accordionReady
                      </a></li>
                    
                    </ul>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#SettingsCtrl#$onInit'
                        class='regular pre-open'>
                        #$onInit
                      </a></li>
                      
                      <li><a
                        href='#SettingsCtrl#expandAll'
                        class='regular pre-open'>
                        #expandAll
                      </a></li>
                      
                      <li><a
                        href='#SettingsCtrl#collapseAll'
                        class='regular pre-open'>
                        #collapseAll
                      </a></li>
                      
                      <li><a
                        href='#SettingsCtrl#promptLogin'
                        class='regular pre-open'>
                        #promptLogin
                      </a></li>
                      
                      <li><a
                        href='#SettingsCtrl#logout'
                        class='regular pre-open'>
                        #logout
                      </a></li>
                      
                      <li><a
                        href='#SettingsCtrl#loadUserAfterLogin'
                        class='regular pre-open'>
                        #loadUserAfterLogin
                      </a></li>
                      
                      <li><a
                        href='#SettingsCtrl#updateSettings'
                        class='regular pre-open'>
                        #updateSettings
                      </a></li>
                      
                      <li><a
                        href='#SettingsCtrl#updateUsage'
                        class='regular pre-open'>
                        #updateUsage
                      </a></li>
                      
                      <li><a
                        href='#SettingsCtrl#getUsageLevel'
                        class='regular pre-open'>
                        #getUsageLevel
                      </a></li>
                      
                      <li><a
                        href='#SettingsCtrl#detectConnection'
                        class='regular pre-open'>
                        #detectConnection
                      </a></li>
                      
                    </ul>
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#connectiondetails'
                  class=" toggle-sibling">
                  ConnectionDetails
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#ConnectionDetailsSPEED_HI'
                        class='regular pre-open'>
                        .SPEED_HI
                      </a></li>
                    
                      <li><a
                        href='#ConnectionDetailsSPEED_WF'
                        class='regular pre-open'>
                        .SPEED_WF
                      </a></li>
                    
                      <li><a
                        href='#ConnectionDetailsSPEED_3G'
                        class='regular pre-open'>
                        .SPEED_3G
                      </a></li>
                    
                    </ul>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#ConnectionDetails#constructor'
                        class='regular pre-open'>
                        #constructor
                      </a></li>
                      
                      <li><a
                        href='#ConnectionDetails#detect'
                        class='regular pre-open'>
                        #detect
                      </a></li>
                      
                      <li><a
                        href='#ConnectionDetails#optimize'
                        class='regular pre-open'>
                        #optimize
                      </a></li>
                      
                      <li><a
                        href='#ConnectionDetails#calculateUsageLevel'
                        class='regular pre-open'>
                        #calculateUsageLevel
                      </a></li>
                      
                      <li><a
                        href='#ConnectionDetails#getLabelsFromTally'
                        class='regular pre-open'>
                        #getLabelsFromTally
                      </a></li>
                      
                    </ul>
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#userauth'
                  class=" toggle-sibling">
                  UserAuth
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#UserAuth#createSession'
                        class='regular pre-open'>
                        #createSession
                      </a></li>
                      
                      <li><a
                        href='#UserAuth#initAuth'
                        class='regular pre-open'>
                        #initAuth
                      </a></li>
                      
                      <li><a
                        href='#UserAuth#login'
                        class='regular pre-open'>
                        #login
                      </a></li>
                      
                      <li><a
                        href='#UserAuth#logout'
                        class='regular pre-open'>
                        #logout
                      </a></li>
                      
                      <li><a
                        href='#UserAuth#isAuthenticated'
                        class='regular pre-open'>
                        #isAuthenticated
                      </a></li>
                      
                      <li><a
                        href='#UserAuth#isAuthorized'
                        class='regular pre-open'>
                        #isAuthorized
                      </a></li>
                      
                    </ul>
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#user_defaults'
                  class="">
                  USER_DEFAULTS
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#usersession'
                  class=" toggle-sibling">
                  UserSession
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#UserSession_settings/_usage'
                        class='regular pre-open'>
                        ._settings/_usage
                      </a></li>
                    
                      <li><a
                        href='#UserSessionuser'
                        class='regular pre-open'>
                        .user
                      </a></li>
                    
                    </ul>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#UserSession#create'
                        class='regular pre-open'>
                        #create
                      </a></li>
                      
                      <li><a
                        href='#UserSession#save'
                        class='regular pre-open'>
                        #save
                      </a></li>
                      
                      <li><a
                        href='#UserSession#destroy'
                        class='regular pre-open'>
                        #destroy
                      </a></li>
                      
                      <li><a
                        href='#UserSession#settings/usage'
                        class='regular pre-open'>
                        #settings/usage
                      </a></li>
                      
                    </ul>
                  
                  
                </div>
                
                </li>
              
            </ul>
          </div>
          <div class='mt1 h6 quiet'>
            <a href='http://documentation.js.org/reading-documentation.html'>Need help reading this?</a>
          </div>
        </div>
      </div>
      <div class='fix-margin-3'>
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='sceneeditor'>
      sceneEditor
    </h3>
    
    
  </div>
  

  <p>The scene editor is an attachment for the scene
component that allows in-scene editing of scene elements.
It should only be rendered directly by the server, when
an admin user is logged in.</p>


  <div class='pre p1 fill-light mt0'>sceneEditor</div>
  
  

  
  
  
  
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>&lt;aframe-scene&gt; &lt;!-- required --&gt;
  &lt;scene-editor&gt;&lt;/scene-editor&gt;
&lt;/aframe-scene&gt;</pre>
    
  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='editorctrl'>
      EditorCtrl
    </h3>
    
    
  </div>
  

  <p>This controller is only instantiated with the server-rendered
editor component. It works by mounting a number of its
behaviours onto the scene component's <code>SceneCtrl</code> directly
and by proxying the <code>$aframeScene</code> service.</p>


  <div class='pre p1 fill-light mt0'>new EditorCtrl($mdPanel: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $mdDialog: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $aframeScene: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$mdPanel</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    ng-material's panel service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$mdDialog</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    ng-material's dialog service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$aframeScene</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The scene service

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='EditorCtrlunpublishedChanges'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>unpublishedChanges</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Property to store the state of the current scene with regard to
whether there are unsaved changes.</p>


  <div class='pre p1 fill-light mt0'>unpublishedChanges</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='aframeeditor'>
      $aframeEditor
    </h3>
    
    
  </div>
  

  <p>Service for handling all CRUD operations pertaining to scenes.</p>
<p>Contains methods for drafting and publishing; interfaces directly
with the <code>$aframeScene</code> service for a reference to the current
scene object. Uses:</p>
<ul>
<li>ng-material's <code>$mdDialog</code> and <code>$mdToast</code> services to display UI messages to user</li>
<li>the <code>$tourApi</code>'s scene resource and the <code>DraftResource</code> for CRUD ops</li>
<li>the 'EDITOR_MESSAGES' constant to provide prebuilt dialogs and toasts</li>
</ul>


  <div class='pre p1 fill-light mt0'>new $aframeEditor($mdToast: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $tourApi: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, DraftResource: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, EDITOR_MESSAGES: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$mdToast</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    ng-material's toast service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$tourApi</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Tour $resource factory service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>DraftResource</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Draft $resource factory

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>EDITOR_MESSAGES</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Constant to define toast configs

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='$aframeEditortoasts'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>toasts</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Property to hold an array of fully initialized toast config objects; loops
through <code>EDITOR_MESSAGES</code> and sets properties using the methods provided
by <code>$mdToast.simple()</code>'s return.</p>


  <div class='pre p1 fill-light mt0'>toasts</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='$aframeEditor#publish'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>publish(_newData?, $1, cb)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Sends an HTTP <code>POST</code> or <code>PATCH</code> request via the <code>$tourApi</code>'s
scene resource to publish (save) the current scene.</p>
<p>If the scene is new, the first parameter of this method can be
set to <code>true</code> to send the request as a new scene creation. If
left to default, it will assume the scene already exists and
is being updated. Uses lodash's <code>pick()</code> method to grab applicable
properties without creating them.</p>


  <div class='pre p1 fill-light mt0'>publish(_newData: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a>?= er (t, $1: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, cb: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>_newData</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a>?= er (t)</code>
	    Whether incoming data should be treated as new

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$1</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>ct</code>)</code>
	    
          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
                  <td class='break-word'><span class='code bold'>$1.notify</span> <code class='quiet'><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a>?= ram </code>
                  </td>
                  <td class='break-word'><span>Whether to notify the user (toast)
</span></td>
                </tr>
              
            </tbody>
          </table>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>cb</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</code>
	    Callback to run when item published

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='$aframeEditor#saveDraft'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>saveDraft($0, cb)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Sends an HTTP <code>POST</code> request to save a draft of the current scene.</p>


  <div class='pre p1 fill-light mt0'>saveDraft($0: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, cb: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$0</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>r </code>)</code>
	    
          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
                  <td class='break-word'><span class='code bold'>$0.notify</span> <code class='quiet'><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a>?= y th</code>
                  </td>
                  <td class='break-word'><span>Whether the notify the user (toast)
</span></td>
                </tr>
              
            </tbody>
          </table>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>cb</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</code>
	    Callback to run when draft saved

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='$aframeEditor#checkForDraft'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>checkForDraft($0, cb)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>If there is scene data available, queries the database by the current
scene ID via the <code>DraftResource</code> factory to check for active drafts
held by the current logged in user.</p>
<p>If drafts are found, notifies the user; offers to load the latest draft.
Loads draft if user confirms and notifies them of load success.</p>


  <div class='pre p1 fill-light mt0'>checkForDraft($0: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, cb: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$0</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>ac</code>)</code>
	    
          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
                  <td class='break-word'><span class='code bold'>$0.notify</span> <code class='quiet'><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a>?=     </code>
                  </td>
                  <td class='break-word'><span>Whether the notify the user (toast)
</span></td>
                </tr>
              
            </tbody>
          </table>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>cb</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</code>
	    Callback to run when draft loaded

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        Promise that will resolve to draft list

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='$aframeEditor#loadDraft'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>loadDraft(id, $1, cb)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Gets a single stored draft by its database <code>_id</code> and passes
the result to a callback; notifies user that draft was loaded and
offers to publish.</p>


  <div class='pre p1 fill-light mt0'>loadDraft(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, $1: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, cb: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The id of the draft to fetch

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$1</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>dr</code>)</code>
	    
          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
                  <td class='break-word'><span class='code bold'>$1.notify</span> <code class='quiet'><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a>?= a st</code>
                  </td>
                  <td class='break-word'><span>Whether to notify the user (toast)
</span></td>
                </tr>
              
            </tbody>
          </table>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>cb</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</code>
	    Callback to run when draft loaded

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='$aframeEditor#revertToDraft'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>revertToDraft($0, cb)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Immediately load last saved draft of current scene.</p>


  <div class='pre p1 fill-light mt0'>revertToDraft($0: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, cb: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$0</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    
          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
                  <td class='break-word'><span class='code bold'>$0.notify</span> <code class='quiet'><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>
                  </td>
                  <td class='break-word'><span>Whether to notify the user (toast)
</span></td>
                </tr>
              
            </tbody>
          </table>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>cb</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</code>
	    Callback to run when draft loaded

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='$aframeEditor#discardDraft'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>discardDraft(id, $1, cb)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Sends an HTTP <code>DELETE</code> request to remove a stored draft by
its database <code>_id</code>; notifies user if successful.</p>


  <div class='pre p1 fill-light mt0'>discardDraft(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, $1: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, cb: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The id of the draft to delete

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$1</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    
          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
                  <td class='break-word'><span class='code bold'>$1.notify</span> <code class='quiet'><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>
                  </td>
                  <td class='break-word'><span>Whether to notify the user (toast)
</span></td>
                </tr>
              
            </tbody>
          </table>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>cb</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</code>
	    Callback to run when draft deleted

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='entityctrl'>
      EntityCtrl
    </h3>
    
    
  </div>
  

  <p>The <code>EntityCtrl</code> acts as an observer of the <code>ngModel</code> directive (annotated
as <code>$ngModel</code> in this controller because it is injected); the entity's
model is controlled externally (e.g. by the <code>EditorCtrl</code>) though ng-model,
so the component has no bindings.</p>
<p>The controller's main responsibility is setting up <code>$watch</code>es for
the relevant model properties and translating them into the
appropriaten DOM modifications.</p>
<p>An entity's life cycle goes:</p>
<ul>
<li>Detect change to model</li>
<li>If the model has a <code>type</code> property, <code>$compile()</code> a new <code>&#x3C;a-[type]></code></li>
<li>If the model has an <code>attrs</code> property, <code>parseAttrs()</code> into a hash object</li>
<li>Apply the attribute hash to the compiled element with <code>attr()</code></li>
<li>Remove element and <code>$destroy</code> scope when parent (<code>ng-repeat</code>ed) scope is destroyed</li>
</ul>


  <div class='pre p1 fill-light mt0'>new EntityCtrl($scope: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $element: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element">element</a>, $compile: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, SceneCtrl: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$scope</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Current scope; parent scope is ngRepeat

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$element</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/API/Element">element</a>)</code>
	    Component wrapper element

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$compile</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Angular's compile service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>SceneCtrl</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The parent controller

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='EntityCtrlentityEl'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>entityEl</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Property to hold the <code>&#x3C;a-…>&#x3C;/a-…></code> element after it has been
compiled by <code>compileTemplate()</code>. Remains false until loaded
so attributes are not set before element has initialized.</p>


  <div class='pre p1 fill-light mt0'>entityEl</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='EntityCtrl#$onInit'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>$onInit()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Sets up <code>$watch</code> statements and scope cleanup. The model properties <code>type</code>
and <code>attrs</code> each receive a watch because <code>type</code> only needs top-level
evaluation, while <code>attrs</code> needs deep-watching.</p>
<p>TODO: REMOVE DEEP-WATCH FOR PERFORMANCE</p>


  <div class='pre p1 fill-light mt0'>$onInit()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='EntityCtrl#compileTemplate'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>compileTemplate(type)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Compiles a new basic A-Frame element using Angular's <code>$compile</code>
service; replaces the component's wrapper with the new element.</p>


  <div class='pre p1 fill-light mt0'>compileTemplate(type: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element">element</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>type</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The element type to compile

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element">element</a></code>:
        The compiled element

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='EntityCtrl#parseAttrs'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>parseAttrs(attrs)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Formats an array of attribute objects into a attribute hash object
that can be applied to a jqLite element in a single <code>attr()</code> call.</p>
<p>Contains validation helpers to check for array and object values,
which are mapped to special (A-Frame specific) attribute syntax.</p>


  <div class='pre p1 fill-light mt0'>parseAttrs(attrs: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>attrs</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>)</code>
	    An array of prop/val attrs

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        An a-frame ready attribute hash

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// An array with objects like...</span>
[{
  <span class="hljs-attr">prop</span>: <span class="hljs-string">'scale'</span>
  val: <span class="hljs-number">0.8</span>
},{
  <span class="hljs-attr">prop</span>: <span class="hljs-string">'position'</span>,
  <span class="hljs-attr">val</span>: [ <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">10</span> ]
},{
  <span class="hljs-attr">prop</span>: <span class="hljs-string">'material'</span>,
  <span class="hljs-attr">val</span>: {
    <span class="hljs-attr">color</span>: <span class="hljs-string">'#0077CA'</span>
  }
}]

<span class="hljs-comment">// ...becomes an object like:</span>
{
  <span class="hljs-attr">scale</span>: <span class="hljs-string">'0.8'</span>,
  <span class="hljs-attr">position</span>: <span class="hljs-string">'0 0 10'</span>,
  <span class="hljs-attr">material</span>: <span class="hljs-string">'color:#0077CA;'</span>
}</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='aframescene'>
      aframeScene
    </h3>
    
    
  </div>
  

  <p>The aframeScene component definition initializes
the scene's bindings for its child components as
well as a transclusion point for the server-rendered
scene editor.</p>


  <div class='pre p1 fill-light mt0'>aframeScene</div>
  
  

  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>sky</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>)</code>
          : Interpolated sky url

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>sceneLinks</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>)</code>
          : Array of scenelink objects

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>hotSpots</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>)</code>
          : Array of hotspot object

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>mobile</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
          : Object with device info

          
        </div>
      
    </div>
  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>&lt;aframe-scene
  sky=<span class="hljs-string">"{{ $ctrl.scene.sky }}"</span>
  scene-links=<span class="hljs-string">"$ctrl.scene.sceneLinks"</span>
  hot-spots=<span class="hljs-string">"$ctrl.scene.hotSpots"</span>
  mobile=<span class="hljs-string">"$ctrl.mobile"</span>&gt;
<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">aframe-scene</span>&gt;</span></span></pre>
    
  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='scenectrl'>
      SceneCtrl
    </h3>
    
    
  </div>
  

  <p>The scene controller manages all top-level functionality
of the scene component; it is responsible for initializing
the DOM elements of the scene and updating them when the
$aframeScene service changes.</p>


  <div class='pre p1 fill-light mt0'>new SceneCtrl()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='SceneCtrl#constructor'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>constructor($scope, $element, $aframeScene, $aframeSky)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Initializes the SceneCtrl's dependencies</p>


  <div class='pre p1 fill-light mt0'>constructor($scope: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $element: jqlite, $aframeScene: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $aframeSky: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$scope</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The current scope

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$element</span> <code class='quiet'>(jqlite)</code>
	    The component's &#x3C;aframe-scene> element

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$aframeScene</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The scene service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$aframeSky</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The sky service

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SceneCtrl#$onInit'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>$onInit()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Lifecycle hook to initialize component properties; sets
a boolean to hold the rightclick-active flag (for when a
user mouseups the scene with right button) and a string
for the current active scene's ID.</p>
<p>Also stores JQLite-wrapped &#x3C;a-scene> and &#x3C;a-assets> for
appending child elements into the scene from inner components.</p>


  <div class='pre p1 fill-light mt0'>$onInit()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SceneCtrl#setScene'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>setScene(scene)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Extracts an incoming scene object's relevant data (<code>id</code>, <code>sceneLinks</code>,
and <code>hotSpots</code>) and assigns them to the controller for rendering
on the component.</p>
<p>If the server-side editor component is attached (i.e. admin user is
logged in), it will have mounted a <code>checkForDraft()</code> method on the
controller, which is called here to announce if a newly-navigated-to
scene has saved drafts.</p>


  <div class='pre p1 fill-light mt0'>setScene(scene: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>scene</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    A scene object from API/database

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SceneCtrl#$doCheck'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>$doCheck()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Lifecycle hook to run a check on every digest loop cycle.</p>
<p>Checks $aframeScene's current scene object; proceeds if
scene is defined and calls <code>setScene()</code> on the incoming data.</p>
<p>Checks if there is a sky active on $aframeSky, and if so, if
it is different from the current active sky. Sets the conroller's
sky if they differ or if the controller has no sky.</p>


  <div class='pre p1 fill-light mt0'>$doCheck()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SceneCtrl#$onDestroy'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>$onDestroy()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Lifecycle cleanup method; unattaches event listener
for context menu (right click) events from the scene.</p>


  <div class='pre p1 fill-light mt0'>$onDestroy()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='aframescene'>
      $aframeScene
    </h3>
    
    
  </div>
  

  <p>The scene service class is the lead orchestrator of the <code>&#x3C;aframe-scene/></code>
component's business logic. It is the application and component's main
interface to the current scene data.</p>
<p>Scene manipulation is accomplished using the <code>$aframeScene.scene</code> getter
and setter property; internally, the scene data is stored in the service
"raw" under the property <code>sceneData</code>. The getter and setter are
responsible for transliterating changes into the "raw" data object and
back again. The setter also sets the <code>$aframeSky.sky</code> property, thus kicking
off a sky change from its respective service.</p>


  <div class='pre p1 fill-light mt0'>new $aframeScene($mdToast: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $aframeSky: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, EDITOR_MESSAGES: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$mdToast</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    ng-material's toast service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$aframeSky</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The sky service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>EDITOR_MESSAGES</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Constant to define toast configs

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='$aframeScene#scene'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>scene</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Getter and setter pair for internal scene data.</p>


  <div class='pre p1 fill-light mt0'>scene</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>sceneData</span> <code class='quiet'>([<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>])</code>
	    Incoming scene data to set

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>[<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>]</code>:
        The scene's current data

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>{
  <span class="hljs-attr">_id</span>: <span class="hljs-string">'583f17cfd2cd0c0400072d9c'</span>,
  <span class="hljs-attr">parent</span>: <span class="hljs-string">'57a8e38b12ad99fe889c95f3'</span>,
  <span class="hljs-attr">code</span>: <span class="hljs-string">'2b'</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Atrium 2B'</span>,
  <span class="hljs-attr">hotSpots</span>: [ ... ],
  <span class="hljs-attr">sceneLinks</span>: [ ... ],
  <span class="hljs-attr">panorama</span>: { ... }
}</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='$aframeScene#removeItemFrom'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>removeItemFrom(item, collection, cb)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Method for <code>Array.splice()</code>ing items out of scene elements (<code>sceneLinks</code>,
<code>hotSpots</code>) for removal from the active scene (what is being viewed, not
necessarily what is saved on the server).</p>
<p>Confirms with the user before deleting, saves a draft after, and
offers to publish once removed (which will commit the changes).</p>


  <div class='pre p1 fill-light mt0'>removeItemFrom(item: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, collection: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>>, cb: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>item</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The item being removed

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>collection</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>>)</code>
	    The array it will be removed from

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>cb</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</code>
	    Callback to run when item removed

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        Promise resolves to result of toast

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>$aframeScene.removeItemFrom(
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'thing'</span> },
  [{ <span class="hljs-attr">name</span>: <span class="hljs-string">'thing'</span> }, { <span class="hljs-attr">name</span>: <span class="hljs-string">'thung'</span> }, { <span class="hljs-attr">name</span>: <span class="hljs-string">'thong'</span> }],
  () =&gt; <span class="hljs-keyword">this</span>.updateView()
);
<span class="hljs-comment">// ...results in:</span>
<span class="hljs-comment">// &gt;&gt; [{ name: 'thung' }, { name: 'thong' }]</span></pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='$aframeScene#addItemTo'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>addItemTo(item, collection, cb)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Method for <code>Array.push()</code>ing items onto the list of current scene
elements (<code>sceneLinks</code>, <code>hotSpots</code>) for display in the scene.</p>
<p>Checks validity of collection and item; adds item and informs user
of the newly added item's default position. Offers to publish changes.</p>


  <div class='pre p1 fill-light mt0'>addItemTo(item: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, collection: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>>, cb: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>item</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    The item being added

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>collection</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>>)</code>
	    The array it will be added to

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>cb</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</code>
	    Callback to run when item added

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='skyctrl'>
      SkyCtrl
    </h3>
    
    
  </div>
  

  <p>The <code>SkyCtrl</code> class is largely responsible for
orchestrating the translation of URLs into IDs
and then into DOM elements for attaching to the scene.</p>
<p>It attaches a single <code>&#x3C;a-sky/></code> the first time a sky is
loaded, and attaches <code>&#x3C;img/></code>s to the scenes assets
preload bucket based on the <code>$aframeSky</code> service's instructions.</p>


  <div class='pre p1 fill-light mt0'>new SkyCtrl()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='SkyCtrl#constructor'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>constructor($scope, $compile, $aframeSky)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Initializes the controller's dependencies:</p>
<ul>
<li>Binds a special one-off $compile function for when
the scene's <code>&#x3C;a-sky /></code> needs to be compiled</li>
<li>Attaches the $aframeSky service directly</li>
</ul>


  <div class='pre p1 fill-light mt0'>constructor($scope: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $compile: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $aframeSky: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$scope</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The SkyCtrl's scope

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$compile</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Angular's compile service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$aframeSky</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The sky component's biz logic

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#$onInit'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>$onInit()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Store JQLite-wrapped <code>&#x3C;a-scene></code> and <code>&#x3C;a-assets></code>;
init internal check for right click event.</p>


  <div class='pre p1 fill-light mt0'>$onInit(): void</div>
  
  

  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        No return

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#$sceneEl'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>$sceneEl</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Cache vars to store JQLite <img> and &#x3C;a-sky>
Flag for init sky load and array of loaded skies</p>


  <div class='pre p1 fill-light mt0'>$sceneEl</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#$onChanges'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>$onChanges(newData)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Lifecycle hook that is invoked every time <code>SkyCtrl.sky</code>
changes value. The first change is discarded since it will
always return <code>null</code> or <code>undefined</code>.</p>


  <div class='pre p1 fill-light mt0'>$onChanges(newData: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>newData</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Incoming change object

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#assetIdFromSkyUrl'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>assetIdFromSkyUrl(skyUrl)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Utility function for stripping the <code>public_id</code>
property out of a URL segment in the form of
<code>[version]/[path/to/image]/[public_id]</code>.</p>


  <div class='pre p1 fill-light mt0'>assetIdFromSkyUrl(skyUrl: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>skyUrl</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Panorama URL segment

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        Panorama's public_id

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#preload'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>preload()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Uses the $aframeSky service to fetch a server-generated
list of <code>skyUrl</code>s for asset preloading. It grabs the <code>_id</code>
of the current active scene from <code>SceneCtrl</code> and sends it
through <code>$aframeSky.getPreloadList()</code> to generate the list
based on scenelinks in the current active scene.</p>
<p><code>assetIdFromSkyUrl()</code> turns each <code>skyUrl</code> into an <code>assetId</code>,
which is checked against the list of preloaded assets.
If the asset hasn't been loaded and stored already, 'loadSkyAsset()'
queues it up for loading into the scene's <code>&#x3C;a-assets>&#x3C;/a-assets></code>.</p>


  <div class='pre p1 fill-light mt0'>preload(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        Promise that holds an array of skyUrls from server

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#setSkyId'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>setSkyId(assetId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Sets the current active sky to an <code>assetId</code>. This updates the
binding in the scene's <code>&#x3C;a-sky ng-src="{{ $ctrl.loadedSky }}" /></code>
to the provided <code>assetId</code>, which should match the <code>id=""</code> of a
asset that has already been fully loaded since this represents
the largest and final change a user perceives when switching scenes.</p>
<p>If this function is being called, it is safe to assume all
requisite loading steps for scene transition have completed, so
it is safe to <code>preload()</code> the next wave of assets.</p>


  <div class='pre p1 fill-light mt0'>setSkyId(assetId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>assetId</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    public_id of panorama that is done loading

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#setSky'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>setSky(skyUrl, assetId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Acts as a buffer function to <code>setSkyId()</code> by checking if the
incoming assetId is already in the list of loaded skies –
if the list includes the ID, <code>setSkyId()</code> is called on the ID
directly. If the ID is missing from the list, <code>loadSkyAsset()</code>
is initiated.</p>
<p><code>setSkyId()</code> is called after the promise is resolved inside its
<code>then()</code> method, where a check is also performed whether the
scene needs an <code>&#x3C;a-sky /></code> element.</p>


  <div class='pre p1 fill-light mt0'>setSky(skyUrl: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, assetId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>skyUrl</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Panorama URL segment

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>assetId</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Panorama's public_id

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#loadSkyAsset'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>loadSkyAsset(skyUrl, assetId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Compiles a new image asset with requested URL and ID;
adds element to assets and ID to list to prevent reload.</p>


  <div class='pre p1 fill-light mt0'>loadSkyAsset(skyUrl: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, assetId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>skyUrl</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Panorama URL segment

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>assetId</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Panorama's public_id

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        The original assetId

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SkyCtrl#loadSkyEl'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>loadSkyEl(sky)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Runs the <code>compileSkyEl()</code> method from the constructor
to build the sky element; attaches it to the scene
and marks the element as loaded.</p>


  <div class='pre p1 fill-light mt0'>loadSkyEl(sky: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element">Element</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>sky</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    ID for asset reference

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element">Element</a></code>:
        JQLite-wrapped &#x3C;a-sky> element

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='aframesky'>
      $aframeSky
    </h3>
    
    
  </div>
  

  <p>The $aframeSky class is a service responsible for
the business logic of the aframeSky component.</p>
<p>The SceneCtrl controller uses the <code>$aframeSky.sky</code>
getter/setter to detect changes to the active scene's
sky; the SkyCtrl controller uses the <code>getSkyDomNode()</code>
method to produce a fully loaded <code>&#x3C;img></code> for appending
the SceneCtrl.$assetsEl (<code>&#x3C;a-assets></code>).</p>


  <div class='pre p1 fill-light mt0'>new $aframeSky()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='$aframeSky#sky'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>sky</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Getter/setter for formatting sky URL from sceneData.</p>


  <div class='pre p1 fill-light mt0'>sky</div>
  
  

  
  
  
  
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-string">'http://res.cloudinary.com/uoit-virtual-tour/image/upload/v1480529929/scenes/panorama/k23dnerigdctblxgq5vm.jpg'</span></pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='$aframeSky#getSettings'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getSettings()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Utility function for reading and parsing user settings
based on aframe's isMobile() method and the UserSession
service's usage settings; parses into an object that
eventually becomes a Cloudinary URL component string.</p>
<p>If the device is mobile, limit image resolution to 2048x1024
due to rendering limit.</p>


  <div class='pre p1 fill-light mt0'>getSettings(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        Formatted Cloudinary setting string (
<code>c_scale,f_auto,etc</code>
)

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='$aframeSky#getPreloadList'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getPreloadList(id)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Fetches an efficiently-generated list of <code>skyUrl</code>s
from the server, which uses a scene <code>_id</code> to read
potential candidates for preloading from the scene's
scenelinks.</p>
<p>If the <code>UserSession</code> service's preloading settings are
set to 1 or 2, it returns the full list for further
manipulation; otherwise, it returns an empty array
(0/no preload).</p>


  <div class='pre p1 fill-light mt0'>getPreloadList(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The _id of a scene to preload links for

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        A promise that will fulfill the preload list

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='$aframeSky#getSkyDomNode'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getSkyDomNode(url, id)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Converts a skyUrl and an assetId into a fully
compiled DOM element; returns a promise representing
a sky asset that will eventually be fully loaded.</p>
<p>Uses <code>getSettings()</code> to parse userSession settings
into a Cloudinary setting string.</p>


  <div class='pre p1 fill-light mt0'>getSkyDomNode(url: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>url</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Partial URL, e.g. 
<code>this.sky</code>
 getter/setter

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    An asset ID, e.g. the panorama's 
<code>public_id</code>

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        A promise that will resolve to the loaded 
<code>&#x3C;img></code>

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='apprun'>
      AppRun
    </h3>
    
    
  </div>
  

  <p>The application run block initializes $state event listeners, error handling
and runtime user-authentication. It is mostly responsible for serving as
a "hub" for the application's communication, e.g. through <code>$event</code>s.</p>


  <div class='pre p1 fill-light mt0'>new AppRun($rootScope: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $state: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $popupWindow: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, UserAuth: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, AUTH_EVENTS: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$rootScope</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The app's top-level scope

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$state</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    ui-router's state service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$popupWindow</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The popup window toast/dialog service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>UserAuth</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    User authenticator service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>AUTH_EVENTS</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Constant of $event name strings

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='AppRun$rootScope.$on'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>$rootScope.$on(event, callback)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Report on exceptions. The <code>handler:exception</code> event is fired
anywhere an exception is caught, and if uncaught, the AppConfig
block also sends this event with special delegation.</p>


  <div class='pre p1 fill-light mt0'>$rootScope.$on(event: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>, callback: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">function</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>event</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>)</code>
	    The event name

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>callback</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">function</a>)</code>
	    To execute on handler call

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='dialogctrl'>
      DialogCtrl
    </h3>
    
    
  </div>
  

  <p>This controller manages a welcome dialog created by the <code>$mdDialog</code>
service, which the user is presented with when the application first
launches (if their preferences include the welcome window).</p>
<p>It contains wrapper methods for <code>$mdDialog</code>'s injected utility methods
(hide/cancel), as well as methods for initializing the onboard tutorial
and syncing user settings (e.g. when user dismisses welcome dialog).</p>


  <div class='pre p1 fill-light mt0'>new DialogCtrl($mdDialog: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, UserSession: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, nzTour: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, TOUR_STEPS: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$mdDialog</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    ng-material's dialog service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>UserSession</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The current user session/settings

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>nzTour</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Onboard tour service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>TOUR_STEPS</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Configuration of onboard tour

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='DialogCtrl#constructor'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>constructor($mdDialog, UserSession, nzTour, TOUR_STEPS, WELCOME_TIP_LIST, WELCOME_TIPS)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Initializes dialog's dependencies.</p>


  <div class='pre p1 fill-light mt0'>constructor($mdDialog: any, UserSession: any, nzTour: any, TOUR_STEPS: any, WELCOME_TIP_LIST: any, WELCOME_TIPS: any)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$mdDialog</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>UserSession</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>nzTour</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>TOUR_STEPS</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>WELCOME_TIP_LIST</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>WELCOME_TIPS</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='DialogCtrl#hide'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>hide()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Hides the dialog; fulfills promise.</p>


  <div class='pre p1 fill-light mt0'>hide(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        Promise that will be fulfilled on hide

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='DialogCtrl#cancel'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>cancel()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Cancels the dialog; rejects promise.</p>


  <div class='pre p1 fill-light mt0'>cancel(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        Promise that will be rejected on cancel

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='DialogCtrl#answer'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>answer(answer)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Hides the dialog, providing an answer to resolve its promise with.</p>


  <div class='pre p1 fill-light mt0'>answer(answer: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>answer</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The result of the dialog upon hide

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        Promise containing the resolved answer

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='DialogCtrl#viewTip'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>viewTip(view, tip)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Changes the active view of the dialog, e.g. "user tips" detail panels.</p>


  <div class='pre p1 fill-light mt0'>viewTip(view: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, tip: any)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>view</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The view to transition to

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>tip</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='DialogCtrl#startTour'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>startTour()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Hides the dialog with the answer <code>'tour'</code> and begins the onboard tour
using the <code>TOUR_STEPS</code> as a config object.</p>


  <div class='pre p1 fill-light mt0'>startTour(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        Promise representing tour completion

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='DialogCtrl#syncSettings'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>syncSettings()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Performs a from»to»from assignment of user settings to force a sync
with the setter. Ensures that the dialog's 'Do not show this message again'
checkbox affects the user's settings.</p>


  <div class='pre p1 fill-light mt0'>syncSettings()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='settingsctrl'>
      SettingsCtrl
    </h3>
    
    
  </div>
  

  <p>The settings controller provides a high-level interface to
the app's user preferences and data usage settings, login/logout
functions, and a set of automatic usage detection functions.</p>


  <div class='pre p1 fill-light mt0'>new SettingsCtrl($scope: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $animate: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $mdUtil: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, $popupWindow: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, UserAuth: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, UserSession: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, ConnectionDetails: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, AUTH_EVENTS: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$scope</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The current scope

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$animate</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    For animating backdrop only

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$mdUtil</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Init backdrop utility

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$popupWindow</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Supplies login window

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>UserAuth</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Authentication check

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>UserSession</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Holds all settings

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>ConnectionDetails</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Detects network and device

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>AUTH_EVENTS</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Authorization event names

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='SettingsCtrlconnection'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>connection</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>This property will hold the user's network and
device information when it becomes available; it
remains false until availability.</p>


  <div class='pre p1 fill-light mt0'>connection</div>
  
  

  
  
  
  
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>{
  <span class="hljs-string">"network"</span>: {
    <span class="hljs-string">"speeds"</span>: { ... },
    ...
  },
  <span class="hljs-string">"useragent"</span>: {
    <span class="hljs-string">"device"</span>: { ... },
    ...
  }
}</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SettingsCtrlaccordionReady'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>accordionReady</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>The accordion initializer watches for a valid
instance and opens the accordion once it becomes
available. Performed once then deregistered.</p>


  <div class='pre p1 fill-light mt0'>accordionReady</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='SettingsCtrl#$onInit'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>$onInit()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Lifecycle hook to initialize dependencies when component
is mounted.</p>
<p>Stores authentication and user preference detail objects,
inits connection object to hold network info. Sets up
one-time <code>$watch</code> binding to listen for accordion init
since its contents load async before it can open.</p>
<p>Sets up <code>$on('event')</code> listener for login success; passes
user data from event into controller and syncs applicable
view elements; opens accordion to expose settings to user.</p>


  <div class='pre p1 fill-light mt0'>$onInit()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SettingsCtrl#expandAll'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>expandAll()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Expands all accordion sections.</p>


  <div class='pre p1 fill-light mt0'>expandAll()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SettingsCtrl#collapseAll'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>collapseAll()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Collapses all accordion sections.</p>


  <div class='pre p1 fill-light mt0'>collapseAll()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SettingsCtrl#promptLogin'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>promptLogin()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Prompts user for login using <code>$popupWindow</code> service's <code>login()</code> dialog.</p>


  <div class='pre p1 fill-light mt0'>promptLogin(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        Status of popupWindow

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SettingsCtrl#logout'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>logout()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Logs user out directly with <code>UserAuth.logout()</code>.</p>


  <div class='pre p1 fill-light mt0'>logout()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SettingsCtrl#loadUserAfterLogin'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>loadUserAfterLogin(event, user)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Stores user info and opens accordion sections when login is detected.</p>


  <div class='pre p1 fill-light mt0'>loadUserAfterLogin(event: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event</a>, user: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>event</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event</a>)</code>
	    The originating event object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>user</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    The newly logged-in user

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SettingsCtrl#updateSettings'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>updateSettings()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Updates the user's setting preferences.</p>


  <div class='pre p1 fill-light mt0'>updateSettings()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SettingsCtrl#updateUsage'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>updateUsage(usage)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Updates the user's usage preferences and usage level description text.</p>


  <div class='pre p1 fill-light mt0'>updateUsage(usage: [<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>])</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>usage</span> <code class='quiet'>([<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>])</code>
	    Optional data override

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SettingsCtrl#getUsageLevel'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getUsageLevel()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Uses the <code>ConnectionDetails</code> service to convert the current
session's usage preferences into a user-friendly description
of what the preferences' effects will be.</p>
<ul>
<li>Grabs <code>UserSession.usage</code> details</li>
<li>Uses <code>ConnectionDetails.calculateUsageLevel()</code> to tally usage stats from details</li>
<li>Passes resulting tally to <code>ConnectionDetails.getLabelsFromTally()</code></li>
<li>Assigns resulting descriptions to controller</li>
</ul>


  <div class='pre p1 fill-light mt0'>getUsageLevel()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='SettingsCtrl#detectConnection'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>detectConnection()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>User-activated function for auto-optimizing usage
level using the <code>ConnectionDetails</code> service.</p>
<ul>
<li>Sets loading animation during detection</li>
<li>Fetches connection information with <code>detect()</code></li>
<li>Stores returned connection information</li>
<li>Sets optimized usage settings with <code>optimize()</code></li>
</ul>


  <div class='pre p1 fill-light mt0'>detectConnection()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='connectiondetails'>
      ConnectionDetails
    </h3>
    
    
  </div>
  

  <p>This service is responsible for translating user network and device
details into a usable format for application settings.</p>
<p>It contains methods for detecting details, optimizing settings based
on details, calculating general reports of setting levels, and
providing human-readable versions of those reports.</p>


  <div class='pre p1 fill-light mt0'>new ConnectionDetails($rootScope: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, $http: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, $q: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, USER_DEFAULTS: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$rootScope</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    The root of the app scopes

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$http</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    Angular's http service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$q</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    Angular's promise builder

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>USER_DEFAULTS</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    Constant for default settings

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='ConnectionDetailsSPEED_HI'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>SPEED_HI</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Upper limit of "high-speed" connection rating (in Mbps).</p>


  <div class='pre p1 fill-light mt0'>SPEED_HI</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
    </p>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ConnectionDetailsSPEED_WF'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>SPEED_WF</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Upper limit of "wi-fi" connection rating (in Mbps).</p>


  <div class='pre p1 fill-light mt0'>SPEED_WF</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
    </p>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ConnectionDetailsSPEED_3G'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>SPEED_3G</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Upper limit of "mobile/3G" connection rating (in Mbps).</p>


  <div class='pre p1 fill-light mt0'>SPEED_3G</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
    </p>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='ConnectionDetails#constructor'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>constructor($rootScope, $http, $q, USER_DEFAULTS)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Initializes the service's dependencies. Extracts usage profiles
from the <code>USER_DEFAULTS.profiles</code> constant and discards other settings.</p>


  <div class='pre p1 fill-light mt0'>constructor($rootScope: any, $http: any, $q: any, USER_DEFAULTS: any)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$rootScope</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$http</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$q</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>USER_DEFAULTS</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ConnectionDetails#detect'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>detect()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Uses Angular's <code>$http</code> service to send a request to the server
for a connection test. Internally, the server API measures
connection speed in the background, and supplies this info back
to the app along with device details when it becomes available.</p>


  <div class='pre p1 fill-light mt0'>detect(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        Promise that will resolve to connection details

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ConnectionDetails#optimize'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>optimize(connection)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Determines the best usage profile (from <code>USER_DEFAULTS.profiles</code>)
to select based on a connection details object (e.g. the result of
calling <code>detect()</code>).</p>


  <div class='pre p1 fill-light mt0'>optimize(connection: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>connection</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    Incoming connection details object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        The chosen optimal settings profile

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ConnectionDetails#calculateUsageLevel'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>calculateUsageLevel(usage)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Tallies up values of usage settings asynchronously
by using <code>$scope.$eval()</code> to match applicable usage
level values against their keys (which are keyed by
"condition").</p>


  <div class='pre p1 fill-light mt0'>calculateUsageLevel(usage: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>usage</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    Incoming usage preference object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        Promise representing final levels

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>{
  <span class="hljs-string">'&lt;= 15'</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>],
  <span class="hljs-string">'== 0'</span>: [...]
}</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ConnectionDetails#getLabelsFromTally'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getLabelsFromTally(tally)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Maps a tally array of numbers into a label
array of human-readable usage level strings.</p>


  <div class='pre p1 fill-light mt0'>getLabelsFromTally(tally: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a>>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>tally</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a>>)</code>
	    Array of tallied usage values

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>></code>:
        Usage descriptions

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='userauth'>
      UserAuth
    </h3>
    
    
  </div>
  

  <p>Factory constructor function to provide authentication
details to app on runtime.</p>
<p>Contains methods for login/logout, as well as a check
at initialization to determine if the server already
has an active user session. It also has utility methods
for determining the status of authorization.</p>


  <div class='pre p1 fill-light mt0'>new UserAuth($http: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>, UserSession: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$http</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    Angular's $http service

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>UserSession</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    The user session object/factory

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='UserAuth#createSession'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>createSession(user)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Wrapper function for the <code>UserSession.create()</code>.</p>


  <div class='pre p1 fill-light mt0'>createSession(user: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>user</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</code>
	    User object from db

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a></code>:
        User stored into session

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='UserAuth#initAuth'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>initAuth()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Sends a small check to the server with <code>$http.get()</code> to
determine if there is already an active user session.</p>
<p>Creates a session with the returned user; creates a blank
session by calling <code>createSesstion(false)</code> if no user (403)
is returned.</p>


  <div class='pre p1 fill-light mt0'>initAuth(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        Promise that will resolve to a user session

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='UserAuth#login'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>login($0)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Logs a user in with a username and password.</p>


  <div class='pre p1 fill-light mt0'>login($0: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$0</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    
          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
                  <td class='break-word'><span class='code bold'>$0.username</span> <code class='quiet'><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
                  </td>
                  <td class='break-word'><span>The user's email
</span></td>
                </tr>
              
                <tr>
                  <td class='break-word'><span class='code bold'>$0.password</span> <code class='quiet'><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
                  </td>
                  <td class='break-word'><span>User's keystone password
</span></td>
                </tr>
              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        Promise that will resolve to a user session

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='UserAuth#logout'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>logout()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Logs a user out.</p>


  <div class='pre p1 fill-light mt0'>logout(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
  
  

  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        Promise that destroys session when resolved

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='UserAuth#isAuthenticated'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>isAuthenticated()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Utility method to tell whether a user is authenticated
with a username and password (only authenticated sessions)
have a userId.</p>


  <div class='pre p1 fill-light mt0'>isAuthenticated(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        User _id field

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='UserAuth#isAuthorized'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>isAuthorized(authorizedRoles)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Utility method to check the current authorized user's
roles in the the application.</p>
<p>If there are no <code>authorizedRoles</code> speficied for the context,
it is public/allowed and the method can return true. If there
are roles specified, they are forced into an array (if not
already) and checked against the array of roles attached to
the current user session.</p>
<p>If the user's roles contain a role that is in the <code>authorizedRoles</code>
list, a flag that the user is authorized is set. If the user is
still authenticated and is also authorized, the method can
return true.</p>


  <div class='pre p1 fill-light mt0'>isAuthorized(authorizedRoles: ([<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>>] | [<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>])): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>authorizedRoles</span> <code class='quiet'>(([<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>>] | [<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>]))</code>
	    A list of roles allowed

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>:
        Whether user is allowed

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='user_defaults'>
      USER_DEFAULTS
    </h3>
    
    
  </div>
  

  <p>This constant holds the user preference default
values. It is used by the <code>UserSession</code> service
as a base layer for configurable preferences.</p>
<p>These values are assigned to every user
session and their <code>val</code> properties are overwritten
by custom preferences.</p>
<p>Only values described here will be considered by
the app as available to the end user for configuration.</p>


  <div class='pre p1 fill-light mt0'>USER_DEFAULTS</div>
  
  

  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>val</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a>)</code>
          : Default value of the setting

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>label</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>)</code>
          : Descriptive label for input

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>icon</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>)</code>
          : Icon ID for input

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>icons</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>)</code>
          : Array of exactly two icon IDs

          
        </div>
      
    </div>
  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='usersession'>
      UserSession
    </h3>
    
    
  </div>
  

  <p>User session management service.</p>


  <div class='pre p1 fill-light mt0'>new UserSession()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='UserSession_settings/_usage'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_settings/_usage</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Looks inside SettingsFactory for user data matching the pattern
defined in USER_DEFAULTS; store in temporary vars.</p>


  <div class='pre p1 fill-light mt0'>_settings/_usage</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='UserSessionuser'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>user</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Init a 'blank' user with the required settings properties to
avoid assignment errors (i.e. <code>this.user.settings[key] = ...</code>)</p>


  <div class='pre p1 fill-light mt0'>user</div>
  
  

  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>settings</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
          : The user's unparsed settings

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>usage</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
          : The user's unparsed usage prefs

          
        </div>
      
    </div>
  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='UserSession#create'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>create(user)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>This function creates a new user session, which is
necessary to store application settings regardless of
whether there is a "real" user logged in. If there is
a user, the UserSession service will:</p>
<ul>
<li>set the <code>userId</code> property to indicate an active user</li>
<li>read user roles based on their boolean values on user</li>
<li>push role strings into a <code>roles</code> property on UserSession</li>
</ul>
<p>If not, the service checks for local settings and inits
a "blank" user with those settings (or the app defaults).</p>


  <div class='pre p1 fill-light mt0'>create(user: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>user</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    DB user object to use for session

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        Fully-formed user object after settings

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='UserSession#save'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>save()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Checks the <code>userId</code> property to verify whether settings should
save to a logged in user; if not, saves them to localStorage using
the <code>SettingsFactory</code>.</p>


  <div class='pre p1 fill-light mt0'>save()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='UserSession#destroy'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>destroy()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Removes user session data and nulls out roles/ID.</p>


  <div class='pre p1 fill-light mt0'>destroy()</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='UserSession#settings/usage'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>settings/usage</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Getter/setter pairs for merging user setting objects from
the DB the form of:</p>
<p><code>{ toolbarOpen: false }</code></p>
<p>into fully-qualified app-level settings objects that look like:</p>
<pre><code>{
  toolbarOpen: {
    val: false,
    label: 'Toolbar open',
    ...
  }
}
</code></pre>
<p>or vice-versa for setting the user object based on app prefs.</p>


  <div class='pre p1 fill-light mt0'>settings/usage</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>settings/usage</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    Incoming app settings to merge into user

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        Merged app settings built from user

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
      </div>
    </div>
  </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
